<!DOCTYPE html><html lang="default" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Linux 基础 | Jiahao Luo</title><meta name="author" content="Michael(Jiahao) Luo"><meta name="copyright" content="Michael(Jiahao) Luo"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="全面介绍Linux操作系统基础知识，包括文件目录操作、权限管理、压缩解压、网络命令、Vim编辑器、软件包管理等，适合Linux入门学习和日常使用参考。">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux 基础">
<meta property="og:url" content="https://www.blog-blockchain.xyz/cs-courses/linux-basis/index.html">
<meta property="og:site_name" content="Jiahao Luo">
<meta property="og:description" content="全面介绍Linux操作系统基础知识，包括文件目录操作、权限管理、压缩解压、网络命令、Vim编辑器、软件包管理等，适合Linux入门学习和日常使用参考。">
<meta property="og:locale">
<meta property="og:image" content="https://www.blog-blockchain.xyz/images/linux.png">
<meta property="article:published_time" content="2021-08-23T12:49:22.000Z">
<meta property="article:modified_time" content="2025-06-18T20:06:27.898Z">
<meta property="article:author" content="Michael(Jiahao) Luo">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.blog-blockchain.xyz/images/linux.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Linux 基础",
  "url": "https://www.blog-blockchain.xyz/cs-courses/linux-basis/",
  "image": "https://www.blog-blockchain.xyz/images/linux.png",
  "datePublished": "2021-08-23T12:49:22.000Z",
  "dateModified": "2025-06-18T20:06:27.898Z",
  "author": [
    {
      "@type": "Person",
      "name": "Michael(Jiahao) Luo",
      "url": "https://www.blog-blockchain.xyz/"
    }
  ]
}</script><link rel="shortcut icon" href="/images/favicon.png"><link rel="canonical" href="https://www.blog-blockchain.xyz/cs-courses/linux-basis/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/pwa/manifest.json"/><link rel="apple-touch-icon" sizes="180x180" href="/pwa/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/pwa/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/pwa/16.png"/><link rel="mask-icon" href="/pwa/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css?v=5.3.5"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?372b8854d18acf62880149b1e08e1901";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=QXcJQjXxTMeUwnWykFW2xw"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'QXcJQjXxTMeUwnWykFW2xw')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'QXcJQjXxTMeUwnWykFW2xw', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":500,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux 基础',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Jiahao Luo" type="application/atom+xml">
</head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/images/site-avator.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">88</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">19</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archive</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Jiahao Luo</span></a><a class="nav-page-title" href="/"><span class="site-name">Linux 基础</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archive</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Linux 基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-08-23T12:49:22.000Z" title="Created 2021-08-23 20:49:22">2021-08-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-06-18T20:06:27.898Z" title="Updated 2025-06-19 04:06:27">2025-06-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/courses/">courses</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">12k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>40mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="container post-content" id="article-container"><h2 id="Linux-的基本特点">Linux 的基本特点</h2>
<ol>
<li>Linux 严格区分大小写</li>
<li>Linux 中所有内容以文件形式保存，包括硬件设备</li>
<li>Linux 不靠扩展名区分文件类型（虽然有部分文件有后缀，但是并不是给电脑看的）</li>
<li>Linux 中所有的存储设备都必须在挂载之后才能使用</li>
</ol>
<h2 id="目录命令">目录命令</h2>
<h3 id="ls-list">ls(list)</h3>
<ul>
<li>-a 显示隐藏文件</li>
<li>-d 显示目录信息</li>
<li>-h 人性化显示文件大小</li>
<li>-i 显示 inode 号（相当于地址）</li>
<li>root 模式下才有不同颜色高亮，以后看能不能调。</li>
</ul>
<p><strong>查看目录的隐藏文件：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">la</span><br><span class="line">## 等同于ls -a</span><br></pre></td></tr></table></figure>
<p><strong>查看目录详细信息（常用来看看权限）：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -dl</span><br></pre></td></tr></table></figure>
<p><strong>查看文件详细信息（常用来看看权限）：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ll</span><br><span class="line">## 等同于 ls -l</span><br></pre></td></tr></table></figure>
<h3 id="cd-change-directory">cd(change directory)</h3>
<ul>
<li>~ home</li>
<li>-上次所在目录</li>
<li>. 代指当前目录</li>
<li>… 代指上级目录</li>
</ul>
<h3 id="mkdir-make-directories">mkdir(make directories)</h3>
<ul>
<li>-p 一级一级创建新目录</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p 目录路径</span><br></pre></td></tr></table></figure>
<h3 id="rmdir-remove-empty-directories">rmdir(remove empty directories)</h3>
<ul>
<li>一般不用这个。</li>
<li>只能删除空目录</li>
<li>-p 一级一级删除目录</li>
</ul>
<h3 id="tree-list-contents-of-directories-in-a-tree-like-format">tree(list contents of directories in a tree-like format)</h3>
<ul>
<li>显示目录树</li>
</ul>
<h2 id="文件命令">文件命令</h2>
<h3 id="cat-concatenate-files-and-print-on-the-standard-output">cat(concatenate files and print on the standard output)</h3>
<ul>
<li>
<p>-A 列出所有隐藏的或者特殊的符号，包括回车符$、缩进^I 等</p>
</li>
<li>
<p>-E 列出每行结尾的回车符$</p>
</li>
<li>
<p>-n 显示行号</p>
</li>
<li>
<p>-T 列出缩进^I 符号</p>
</li>
<li>
<p>-v 列出特殊符号</p>
<p><strong>一般用：</strong></p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat -n 文件名</span><br></pre></td></tr></table></figure>
<hr>
<p><strong>以下几条用的不多：</strong></p>
<h3 id="more-file-perusal-filter-one-screen-at-a-time">more(file perusal filter one screen at a time)</h3>
<h3 id="less-file-perusal-filter-one-line-at-a-time">less(file perusal filter one line at a time)</h3>
<h3 id="head-output-the-first-part-of-files">head(output the first part of files)</h3>
<ul>
<li>-n 显示前 n 行</li>
<li>-v 显示文件名</li>
</ul>
<h3 id="tail-output-the-last-part-of-files">tail(output the last part of files)</h3>
<ul>
<li>-n 显示倒数 n 行</li>
<li>-f 监听文件新增信息（会随着文件更改而刷新）</li>
</ul>
<hr>
<h3 id="ln-make-links-between-file">ln(make links between file)</h3>
<ul>
<li>-s 建立软链接(必须写绝对路径)。若不加“-s”选项，则建立硬链接文件。</li>
<li>-f 强制执行。若目标文件已经存在，则删除后再建立链接文件</li>
</ul>
<h3 id="硬链接">硬链接</h3>
<p>● 不论是修改源文件，还是修改硬链接文件，另一个文件中的数据都会发生改变。</p>
<p>● 不论是删除源文件，还是删除硬链接文件，只要还有一个文件存在，这个文件都可以被访问。</p>
<p>● 硬链接不会建立新的 inode 信息，也不会更改 inode 的总数。</p>
<p>● 硬链接不能跨文件系统（分区）建立，因为在不同的文件系统中，inode 号是重新计算的。</p>
<p>● 硬链接不能链接目录，因为如果给目录建立硬链接，那么不仅目录本身需要重新建立，目录下所有的子文件，包括子目录中的所有子文件都需要建立硬链接，这对当前的 Linux 来讲过于复杂。</p>
<h3 id="软链接">软链接</h3>
<ul>
<li>
<p>软链接的标志很明显，权限第一个出现 l，而且在显色的情况下变蓝色，也有-&gt;指向源文件</p>
</li>
<li>
<p>可以相当于快捷方式来使用，特点非常相似</p>
</li>
<li>
<p>删除软链接，源文件不受影响。删除源文件，则找不到实际数据</p>
</li>
<li>
<p>可以链接目录</p>
</li>
<li>
<p>可以跨分区</p>
</li>
</ul>
<p><strong>创建软链接：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s 源文件名 目标文件名</span><br></pre></td></tr></table></figure>
<h3 id="diff"><strong>diff</strong></h3>
<ul>
<li>a：将任何文档当作文本文档处理。(treat all file as text)</li>
<li>b：忽略空格造成的不同。(ignore-space-change)</li>
<li>B：忽略空白行造成的不同。(ignore blank lines)</li>
<li>I：忽略大小写造成的不同。(ignore matching lines)</li>
<li>N：比较两个目录时，如果文件只存在一个目录中，则另一个目录中视为空文件。（new file）</li>
<li>r：比较目录时，也递归比较子目录。</li>
<li>u：使用同一输出格式，不会显示相同的部分。(unified/)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff 第一个文件名 第二个文件名</span><br></pre></td></tr></table></figure>
<p>&lt;表示去除，&gt;表示添加，— 表示分割两个文件。实际上相当于把第三行的 is 替换成 is not。</p>
<p>在第一个文件的第四行后面加上显示出来的 5-6 行（add）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff -c 第一个文件名 第二个文件名</span><br></pre></td></tr></table></figure>
<p><img src="http://cdn.blog-blockchain.xyz/202209061600474.png" alt="image-20210221112220478"><br>
第一部分：***表示第一个文件，—表示变动后的文件。</p>
<p>第二部分***1,4***表示总共有 1,4 行。！表示不同的地方，+表示多出来的地方</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff -Naur 第一个文件名 第二个文件名</span><br></pre></td></tr></table></figure>
<p><img src="http://cdn.blog-blockchain.xyz/202209061600207.png" alt="image-20210221113019958"><br>
—：表示第一个文件 +++：表示第二个文件。</p>
<p>-1,4 中，'-'表示第一个文件，显示第一行开始的连续 4 行。</p>
<p>只要把 带 ‘-’ 删除，带 ‘+’ 加上，第一个为文件就和第二个文件相同了。</p>
<p><strong>注意：我们一般使用，自动查找不同的地方，生成补丁文件</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff -Naur 第一个文件名 第二个文件名 &gt;补丁文件名</span><br></pre></td></tr></table></figure>
<p>一般补丁文件名设置成以 .patch 或者 .diff 结尾。</p>
<p>打上补丁</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">patch -pn &lt; 补丁文件名</span><br><span class="line">## n代表取消的目录数。例如如果是在同一目录，n=0.</span><br></pre></td></tr></table></figure>
<h2 id="文件和目录命令">文件和目录命令</h2>
<h3 id="du-disk-usage">du(disk usage)</h3>
<ul>
<li>a：显示目录及子目录下的所有文件</li>
<li>h：人性化显示。</li>
</ul>
<p><strong>查看文件大小：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">du -ah 文件名</span><br><span class="line">## 更多操作去查询帮助文档。du --help</span><br></pre></td></tr></table></figure>
<h3 id="touch-change-file-timestamps">touch(change file timestamps)</h3>
<ul>
<li>文件不存在则创建空文件，存在则更改文件或者目录的时间戳（访问时间、数据修改时间、状态修改时间）</li>
<li>-a 只修改访问时间（Access Time）</li>
<li>-c 如果文件不存在，则不创建新文件</li>
<li>-d 把时间戳修改成指定时间</li>
<li>-m 只修改数据修改时间（Modify Time）</li>
</ul>
<p><strong>一般创建文件：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch 文件名</span><br></pre></td></tr></table></figure>
<h3 id="stat-display-file-or-file-system-status">stat(display file or file system status)</h3>
<ul>
<li>查看文件或者文件夹的访问时间、数据修改时间、状态修改时间、创建时间</li>
<li>-f 查看所在的文件系统信息。</li>
</ul>
<h3 id="rm-remove-files-or-directories">rm(remove files or directories)</h3>
<ul>
<li>-f 强制删除（force）</li>
<li>-i 交互删除，删除前需要确定(默认情况)</li>
<li>-r 一级一级的删除，删除目录需要加上（recursive）</li>
</ul>
<p><strong>一般删除文件：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf 文件名</span><br></pre></td></tr></table></figure>
<h3 id="cp-copy-files-and-directories">cp(copy files and directories)</h3>
<ul>
<li>-a：等同于执行-dpr ，如果我们要源文件的属性不要变，完全的复制，这样就很方便。</li>
<li>-d ：如果源文件为软链接，复制之后也为软链接，否则复制的是软链接的源文件。</li>
<li>-i ：交互（interact），询问是否覆盖</li>
<li>-n：不覆盖。</li>
<li>-f ：强制覆盖</li>
<li>-l ：建立为硬链接文件，而不是复制</li>
<li>-s ：建立为软链接文件，而不是复制</li>
<li>-p ：目标文件保留源文件的属性（创建时间、数据修改时间、状态修改时间等）</li>
<li>-r ：递归复制，复制目录加上</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">## 覆盖复制，需要再次确定（常用于恢复备份文件）</span><br><span class="line">cp -i 源文件 目标文件</span><br><span class="line">## 复制目录一般使用</span><br><span class="line">cp -r 源文件 目标文件</span><br><span class="line">## 复制文件</span><br><span class="line">cp 源文件 目标文件</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="keyword">global</span> https.https:<span class="comment">//github.com.proxy socks5://192.168.0.104:10808</span></span><br></pre></td></tr></table></figure>
<h3 id="mv-move-files">mv(move files)</h3>
<p><strong>与 cp 用法和效果差不多，主要区别是不保留源文件</strong></p>
<ul>
<li>因为可以设置目标文件名，所以也用来给文件或文件夹改名。相当于剪切。</li>
<li>-f 强制覆盖。</li>
<li>-i 交互覆盖，询问是否要覆盖。</li>
<li>-n 已存在相同名字的文件则不覆盖</li>
<li>-v 显示移动文件时的详细信息，那些文件有变动。</li>
</ul>
<h2 id="权限管理命令">权限管理命令</h2>
<h3 id="了解文件的权限">了解文件的权限</h3>
<p><img src="http://cdn.blog-blockchain.xyz/202209061601987.png" alt="image-20210216143827001"><br>
<strong>第一列</strong>权限位总共有十位</p>
<p><strong>第一位</strong>是文件类型，种类比较多</p>
<ul>
<li>d：目录文件 directory</li>
<li>I：软链接文件</li>
<li>c：字符设备文件</li>
<li>-：普通文件</li>
</ul>
<p>后面每三位代表每一类人的权限，分别对应所有者、所属组（授权使用的人）、其他人（其他没有授权的人）</p>
<ul>
<li>-r：代表 read，读取权限</li>
<li>-w：代表 write，写入权限</li>
<li>-x：代表 execute，执行权限</li>
<li>-：代表对应位置没有这个权限。</li>
</ul>
<p><strong>第二列</strong>数字对于文件是链接数和 inode 有关</p>
<p><strong>第三列、第四列</strong>两个名字分别是所有者和用户组</p>
<p><strong>第五列</strong>的数字是文件的大小，单位是 Byte(字节)</p>
<p><strong>第六列</strong>日期是最后一次状态修改日期</p>
<p><strong>最后一列</strong>是名称，不同的颜色代表不同的类型</p>
<h3 id="权限的具体含义">权限的具体含义</h3>
<p><strong>权限对于文件：</strong></p>
<p>r: 查看。可以用 cat,more ,less,head,tail 等命令查看</p>
<p>w: 可以修改文件内容。但是<strong>不能删除文件，需要上级目录有写的权限才可以删除</strong></p>
<p>x: 能否有权限运行。但是还需要看它本身能否正常运行。<strong>对于文件，执行权限是最高权限。</strong></p>
<p><strong>权限对于目录：</strong></p>
<p>r: 可以擦好看子目录和子文件，比如 ls 命令</p>
<p>w: 可以修改（新建、删除、复制、剪贴）目录中的子目录或者子文件。比如 touch,rm,cp,mv. <strong>对于目录，写是最高权限、</strong></p>
<p>x: 目录可以执行，代表可以进入这个目录，比如 cd。如果没有可执行权限，那么引用目录的操作不能完成</p>
<p><img src="http://cdn.blog-blockchain.xyz/202209061602199.jpeg" alt="preview"></p>
<p>更加复杂的特殊权限，对于现在而言不必要去学习，以后深入学习操作系统会学到的。</p>
<h3 id="chmod-change-file-mode-bits">chmod(change file mode bits)</h3>
<ul>
<li>-R 递归设置，给子目录中的所有文件都设置这个权限</li>
<li>选项有三个部分
<ul>
<li>用户身份
<ol>
<li>u：user，所有者</li>
<li>g：group，所有组</li>
<li>o：other，其他人</li>
<li>a: all，所有身份</li>
</ol>
</li>
<li>赋予方式
<ol>
<li>+：加入权限</li>
<li>-：减去权限</li>
<li>=：设置权限</li>
</ol>
</li>
<li>权限
<ol>
<li>r</li>
<li>w</li>
<li>x</li>
</ol>
</li>
</ul>
</li>
</ul>
<p><strong>示例：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## 一般用的是：chmod 数字权限 文件名</span><br><span class="line">chmod 740 文件名</span><br><span class="line">## 等同于其他的用法（不方便）</span><br><span class="line">chmod u=rwx,g=r,o=- 文件名</span><br></pre></td></tr></table></figure>
<h3 id="数字权限表达方式（都是八进制的数）">数字权限表达方式（都是八进制的数）</h3>
<ul>
<li>4：代表 r</li>
<li>2 代表 w</li>
<li>1 代表 x</li>
</ul>
<p>那么这三个数字的 7 种和（没有这个权限记作 0）就唯一代表着一个用户权限的 7 种情况。</p>
<p>例如：chmod u=rwx,g=r,o=- 文件名，就可以记作 chmod 740 文件名</p>
<h3 id="chown-change-file-owner-and-group">chown(change file owner and group)</h3>
<ul>
<li>R 递归设置，给子目录中的所有文件都执行这个操作。</li>
</ul>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">## 改变所有者</span><br><span class="line">chown 想要改成的所有者名字 文件名</span><br><span class="line">## 改变所属组</span><br><span class="line">chown 原来的所属组.想要改变的所属组 文件名</span><br><span class="line">## 这个也是一样的效果</span><br><span class="line">chown 原来的所属组:想要改变的所属组 文件名</span><br></pre></td></tr></table></figure>
<h3 id="chgrp-change-group-ownership">chgrp(change group ownership)</h3>
<p>chown root 文件名，把所属组改为 root</p>
<h3 id="umask">umask</h3>
<ul>
<li>用于设置创建新文件和新目录时的默认权限设置</li>
<li>直接输入 umask 返回的时八进制的数 0022，是<strong>补码</strong></li>
<li>umask -S 返回初始权限掩码，u=rwx,g=rx,o=rx。注意 umask 是权限掩码，而不是默认的权限。是八进制的 022 的原码对应的权限</li>
</ul>
<p><strong>umask 默认权限规则</strong></p>
<ol>
<li>对文件而言，最大权限为 666，没有执行权限，必须手动赋予。</li>
<li>对目录而言，最大权限为 777.</li>
<li>umask 权限为四位的八进制数，默认 0022，第一位为特殊权限，后三位为一般权限（rwx 这种）。</li>
<li>计算规则
<ul>
<li>文件最大权限 666，即-rw-rw-rw-，umask 是 022 对应-----w–w-，出去 umask 对应位置出现的字母就可以了。也就是说最大权限减去两者的交集。</li>
<li>目录最大权限 777，同样的操作。</li>
</ul>
</li>
</ol>
<h2 id="帮助命令">帮助命令</h2>
<h3 id="man（the-system-reference-manuals）">man（the system reference manuals）</h3>
<ul>
<li>f: 帮助的级别（类型）</li>
<li>k: 和命令相关的所有帮助<br>
<img src="http://cdn.blog-blockchain.xyz/202209061602937.png" alt="image-20210216224144785"></li>
</ul>
<p>ls(1)，代表级别是 1</p>
<p>一般使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man 命令名</span><br></pre></td></tr></table></figure>
<p><strong>man 内的快捷键：</strong></p>
<ul>
<li>g：移动到第一页</li>
<li>G：移动到最后一页</li>
<li>/：检索字符。常用 /-选项 查找自己不清楚的选项</li>
<li>N：检索字符时找到上一个字符串</li>
<li>n：检索字符时找到下一个字符串</li>
<li>q：（quit）退出</li>
</ul>
<h3 id="info-read-Info-documents">info(read Info documents)</h3>
<ul>
<li>官方的帮助文档大全</li>
</ul>
<p><strong>info 内快捷命令：</strong></p>
<ul>
<li>回车：进入*（带*的文本表示可查看详细信息）</li>
<li>u：退出*</li>
<li>n：进入下一小节</li>
<li>p：进入上一小节</li>
</ul>
<h3 id="help">help</h3>
<ul>
<li>只能用于查看 shell 内置命令的帮助</li>
</ul>
<p><strong>–help 选项：</strong></p>
<ul>
<li>大多数命令种都有这个选项，而且往往简明扼要，很有帮助。</li>
<li>一些可执行文件也有这样的帮助。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">##查询命令的帮助</span><br><span class="line">命令名 --help</span><br><span class="line">##查询可执行文件的帮助(在所属目录下)</span><br><span class="line">./可执行文件名字 --help</span><br></pre></td></tr></table></figure>
<h2 id="搜索命令">搜索命令</h2>
<p>注意，在大范围搜索时，搜索命令会给系统带来很大的压力。</p>
<h3 id="whereis">whereis</h3>
<ul>
<li>用于查看命令的位置和帮助文档的位置<br>
<img src="http://cdn.blog-blockchain.xyz/202209061603015.png" alt="image-20210216230307173"></li>
<li>b：只查看二进制命令的位置</li>
<li>m：只查看帮助文档的位置</li>
</ul>
<h3 id="locate-fine-files-by-name">locate(fine files by name)</h3>
<ul>
<li>i：忽略大小写。</li>
<li>由于 locate 命令时搜索 locate 数据库，所以耗费资源少，搜索速度快，但是要重启来更新，所以不包括新建的文件（所以删除后再查看还是可以发现，用 locate 查询后显示存在，但是实际不存在的情况）</li>
<li>可以使用 updatedb 更新数据库</li>
<li>系统认为某些文件系统或者文件类型和目录（光盘、临时目录、网盘等）是没有必要搜索的，无法用 locate 找到。可在/etc/updatedb.conf 设置<br>
<img src="http://cdn.blog-blockchain.xyz/202209061604565.png" alt="image-20210216234744780"></li>
</ul>
<p>第一行蓝色的：是否开启</p>
<p>第二行蓝色的：排除的目录</p>
<p>第三行蓝色的：排除的文件类型</p>
<p><strong>常用的搜索方式：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">##先更新数据库</span><br><span class="line">updatedb</span><br><span class="line">##搜索文件名</span><br><span class="line">locate 文件名</span><br></pre></td></tr></table></figure>
<h3 id="find">find</h3>
<ul>
<li>功能强大，可以根据时间、权限、大小、inode 对硬盘进行搜索，但是比较消耗系统资源。</li>
<li>必须完全匹配才会搜索到，只是包含搜索内容不会被列出</li>
<li>格式：find 搜索路径 选项 搜索内容。 例如</li>
</ul>
<p><strong>按名字或 inode 搜索：</strong></p>
<ul>
<li>name：按文件名搜索</li>
<li>iname：按文件名搜索，不分大小写</li>
<li>inum：按 inode 搜索。常用于查找硬链接</li>
</ul>
<p><strong>按大小搜索</strong></p>
<ul>
<li>
<p>size -大小：比这个小的文件。</p>
</li>
<li>
<p>size +大小：比这个大的文件。</p>
<p>大小单位如下：</p>
<ul>
<li>c：字节</li>
<li>w:双字节。（因为一个汉字是两个字节）</li>
<li>k：KB</li>
<li>M：MB</li>
<li>G：GB</li>
</ul>
</li>
</ul>
<p><strong>例如：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /home -size +10M。</span><br></pre></td></tr></table></figure>
<p><strong>按时间搜索</strong></p>
<ul>
<li>atime：按访问时间搜索</li>
<li>mtime：按数据修改时间搜索</li>
<li>ctime：按状态修改时间搜索</li>
</ul>
<p>-5：五天内修改的</p>
<p>5：五天前（前 5-6 天）修改的</p>
<p>+5：六天前及以前修改的</p>
<p><strong>例如：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">## 在/home目录下查找数据修改时间在前1天到现在的文件。</span><br><span class="line">find /home -mtime -1</span><br></pre></td></tr></table></figure>
<p><strong>按权限搜索</strong></p>
<ul>
<li>perm:权限恰好相同的文件</li>
<li>perm -：权限包含于这个的文件（权限比较小）</li>
<li>perm /：只要所有者、所属组、其他人中有一个或多个满足条件的文件，相当于或。（perm +已经取消了）</li>
</ul>
<p>例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /home/learner/Interaction/ -perm /743</span><br></pre></td></tr></table></figure>
<p><strong>按所有者和所属组搜索</strong></p>
<ul>
<li>user：按所有者名查找指定所有者的文件</li>
<li>group：按所属组名找指定所属组的文件。</li>
<li>nouser：没有所有者的文件（外来文件，不是在 Linux 里创建或下载的）。</li>
</ul>
<p>例如：find . -nouser find . -user root</p>
<p><strong>按文件类型搜索</strong></p>
<ul>
<li>type d：查找目录。</li>
<li>type f：查找普通文件。</li>
<li>type l：查找软链接文件。</li>
</ul>
<p>例如：find . -type l</p>
<p><strong>逻辑运算多个限定条件搜索</strong></p>
<ul>
<li>-a：and 逻辑与</li>
<li>-o：or 逻辑或</li>
<li>-not：逻辑非</li>
</ul>
<p>例如：find . -size +2M -a -type f 查找当前目录大小大于 2MB 的普通文件。</p>
<p><strong>其他辅助命令</strong></p>
<ul>
<li>命令一 -exect 命令二{}\</li>
</ul>
<p>表示对查找到的命令执行命令二。{}代指命令一的结果。</p>
<p>例如： find /home/learner/Interaction/ -type f -a -iname matplolib -a -size -2M -exec rm -rf {} ; 表示对在/home/learner/Interaction/目录下的叫做 matplolib（不分大小写）的小于 2MB 的普通文件执行 强制递归删除操作。</p>
<ul>
<li>ok</li>
</ul>
<p>ok 的用法和 exec 几乎一样，但是多了一个询问是否操作。</p>
<h3 id="grep">grep</h3>
<p><strong>grep</strong> （global search regular expression(RE) and print out the line，全面搜索正则表达式并把行打印出来）是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。用于过滤/搜索的特定字符。可使用正则表达式能配合多种命令使用，使用上十分灵活。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">-a --text  # 不要忽略二进制数据。</span><br><span class="line">-A &lt;显示行数&gt;   --after-context=&lt;显示行数&gt;   # 除了显示符合范本样式的那一行之外，并显示该行之后的内容。</span><br><span class="line">-b --byte-offset                           # 在显示符合范本样式的那一行之外，并显示该行之前的内容。</span><br><span class="line">-B&lt;显示行数&gt;   --before-context=&lt;显示行数&gt;   # 除了显示符合样式的那一行之外，并显示该行之前的内容。</span><br><span class="line">-c --count    # 计算符合范本样式的列数。</span><br><span class="line">-C&lt;显示行数&gt; --context=&lt;显示行数&gt;或-&lt;显示行数&gt; # 除了显示符合范本样式的那一列之外，并显示该列之前后的内容。</span><br><span class="line">-d&lt;进行动作&gt; --directories=&lt;动作&gt;  # 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep命令将回报信息并停止动作。</span><br><span class="line">-e&lt;范本样式&gt; --regexp=&lt;范本样式&gt;   # 指定字符串作为查找文件内容的范本样式。</span><br><span class="line">-E --extended-regexp             # 将范本样式为延伸的普通表示法来使用，意味着使用能使用扩展正则表达式。</span><br><span class="line">-f&lt;范本文件&gt; --file=&lt;规则文件&gt;     # 指定范本文件，其内容有一个或多个范本样式，让grep查找符合范本条件的文件内容，格式为每一列的范本样式。</span><br><span class="line">-F --fixed-regexp   # 将范本样式视为固定字符串的列表。</span><br><span class="line">-G --basic-regexp   # 将范本样式视为普通的表示法来使用。</span><br><span class="line">-h --no-filename    # 在显示符合范本样式的那一列之前，不标示该列所属的文件名称。</span><br><span class="line">-H --with-filename  # 在显示符合范本样式的那一列之前，标示该列的文件名称。</span><br><span class="line">-i --ignore-case    # 忽略字符大小写的差别。</span><br><span class="line">-l --file-with-matches   # 列出文件内容符合指定的范本样式的文件名称。</span><br><span class="line">-L --files-without-match # 列出文件内容不符合指定的范本样式的文件名称。</span><br><span class="line">-n --line-number         # 在显示符合范本样式的那一列之前，标示出该列的编号。</span><br><span class="line">-P --perl-regexp         # PATTERN 是一个 Perl 正则表达式</span><br><span class="line">-q --quiet或--silent     # 不显示任何信息。</span><br><span class="line">-R/-r  --recursive       # 此参数的效果和指定“-d recurse”参数相同。</span><br><span class="line">-s --no-messages  # 不显示错误信息。</span><br><span class="line">-v --revert-match # 反转查找。</span><br><span class="line">-V --version      # 显示版本信息。</span><br><span class="line">-w --word-regexp  # 只显示全字符合的列。</span><br><span class="line">-x --line-regexp  # 只显示全列符合的列。</span><br><span class="line">-y # 此参数效果跟“-i”相同。</span><br><span class="line">-o # 只输出文件中匹配到的部分。</span><br><span class="line">-m &lt;num&gt; --max-count=&lt;num&gt; # 找到num行结果后停止查找，用来限制匹配行数</span><br></pre></td></tr></table></figure>
<p><strong>规则表达式：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">^    # 锚定行的开始 如：&#x27;^grep&#x27;匹配所有以grep开头的行。</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">   <span class="comment"># 锚定行的结束 如：&#x27;grep$&#x27; 匹配所有以grep结尾的行。</span></span></span><br><span class="line">.    # 匹配一个非换行符的字符 如：&#x27;gr.p&#x27;匹配gr后接一个任意字符，然后是p。</span><br><span class="line">*    # 匹配零个或多个先前字符 如：&#x27;*grep&#x27;匹配所有一个或多个空格后紧跟grep的行。</span><br><span class="line">.*   # 一起用代表任意字符。</span><br><span class="line">[]   # 匹配一个指定范围内的字符，如&#x27;[Gg]rep&#x27;匹配Grep和grep。</span><br><span class="line">[^]  # 匹配一个不在指定范围内的字符，如：&#x27;[^A-FH-Z]rep&#x27;匹配不包含A-R和T-Z的一个字母开头，紧跟rep的行。</span><br><span class="line">\(..\)  # 标记匹配字符，如&#x27;\(love\)&#x27;，love被标记为1。</span><br><span class="line">\&lt;      # 锚定单词的开始，如:&#x27;\&lt;grep&#x27;匹配包含以grep开头的单词的行。</span><br><span class="line">\&gt;      # 锚定单词的结束，如&#x27;grep\&gt;&#x27;匹配包含以grep结尾的单词的行。</span><br><span class="line">x\&#123;m\&#125;  # 重复字符x，m次，如：&#x27;0\&#123;5\&#125;&#x27;匹配包含5个o的行。</span><br><span class="line">x\&#123;m,\&#125;   # 重复字符x,至少m次，如：&#x27;o\&#123;5,\&#125;&#x27;匹配至少有5个o的行。</span><br><span class="line">x\&#123;m,n\&#125;  # 重复字符x，至少m次，不多于n次，如：&#x27;o\&#123;5,10\&#125;&#x27;匹配5--10个o的行。</span><br><span class="line">\w    # 匹配文字和数字字符，也就是[A-Za-z0-9]，如：&#x27;G\w*p&#x27;匹配以G后跟零个或多个文字或数字字符，然后是p。</span><br><span class="line">\W    # \w的反置形式，匹配一个或多个非单词字符，如点号句号等。</span><br><span class="line">\b    # 单词锁定符，如: &#x27;\bgrep\b&#x27;只匹配grep。</span><br></pre></td></tr></table></figure>
<p><strong>常见用法</strong></p>
<p>在文件中搜索一个单词，命令会返回一个包含 <strong>“match_pattern”</strong> 的文本行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep match_pattern file_name</span><br><span class="line">grep &quot;match_pattern&quot; file_name</span><br></pre></td></tr></table></figure>
<p>在多个文件中查找：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;match_pattern&quot; file_1 file_2 file_3 ...</span><br></pre></td></tr></table></figure>
<p>输出除之外的所有行 <strong>-v</strong> 选项：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -v &quot;match_pattern&quot; file_name</span><br></pre></td></tr></table></figure>
<p>标记匹配颜色 <strong>–color=auto</strong> 选项：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;match_pattern&quot; file_name --color=auto</span><br></pre></td></tr></table></figure>
<p>使用正则表达式 <strong>-E</strong> 选项：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grep -E &quot;[1-9]+&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 或</span></span></span><br><span class="line">egrep &quot;[1-9]+&quot;</span><br></pre></td></tr></table></figure>
<p>使用正则表达式 <strong>-P</strong> 选项：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -P &quot;(\d&#123;3&#125;\-)&#123;2&#125;\d&#123;4&#125;&quot; file_name</span><br></pre></td></tr></table></figure>
<p>只输出文件中匹配到的部分 <strong>-o</strong> 选项：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo this is a test line. | grep -o -E &quot;[a-z]+\.&quot;</span><br><span class="line">line.</span><br><span class="line"></span><br><span class="line">echo this is a test line. | egrep -o &quot;[a-z]+\.&quot;</span><br><span class="line">line.</span><br></pre></td></tr></table></figure>
<p>统计文件或者文本中包含匹配字符串的行数 <strong>-c</strong> 选项：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -c &quot;text&quot; file_name</span><br></pre></td></tr></table></figure>
<p>输出包含匹配字符串的行数 <strong>-n</strong> 选项：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;text&quot; -n file_name</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 或</span></span></span><br><span class="line">cat file_name | grep &quot;text&quot; -n</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#多个文件</span></span></span><br><span class="line">grep &quot;text&quot; -n file_1 file_2</span><br></pre></td></tr></table></figure>
<p>打印样式匹配所位于的字符或字节偏移：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo gun is not unix | grep -b -o &quot;not&quot;</span><br><span class="line">7:not</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#一行中字符串的字符便宜是从该行的第一个字符开始计算，起始值为0。选项  **-b -o**  一般总是配合使用。</span></span></span><br></pre></td></tr></table></figure>
<p>搜索多个文件并查找匹配文本在哪些文件中：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -l &quot;text&quot; file1 file2 file3...</span><br></pre></td></tr></table></figure>
<p><strong>递归搜索文件</strong></p>
<p>在多级目录中对文本进行递归搜索：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;text&quot; . -r -n</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># .表示当前目录。</span></span></span><br></pre></td></tr></table></figure>
<p>忽略匹配样式中的字符大小写：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;hello world&quot; | grep -i &quot;HELLO&quot;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># hello</span></span></span><br></pre></td></tr></table></figure>
<p>选项 <strong>-e</strong> 制动多个匹配样式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">echo this is a text line | grep -e &quot;is&quot; -e &quot;line&quot; -o</span><br><span class="line">is</span><br><span class="line">line</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#也可以使用 **-f** 选项来匹配多个样式，在样式文件中逐行写出需要匹配的字符。</span></span></span><br><span class="line">cat patfile</span><br><span class="line">aaa</span><br><span class="line">bbb</span><br><span class="line"></span><br><span class="line">echo aaa bbb ccc ddd eee | grep -f patfile -o</span><br></pre></td></tr></table></figure>
<p>在 grep 搜索结果中包括或者排除指定文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 只在目录中所有的.php和.html文件中递归搜索字符&quot;main()&quot;</span></span></span><br><span class="line">grep &quot;main()&quot; . -r --include *.&#123;php,html&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 在搜索结果中排除所有README文件</span></span></span><br><span class="line">grep &quot;main()&quot; . -r --exclude &quot;README&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 在搜索结果中排除filelist文件列表里的文件</span></span></span><br><span class="line">grep &quot;main()&quot; . -r --exclude-from filelist</span><br></pre></td></tr></table></figure>
<p>使用 0 值字节后缀的 grep 与 xargs：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 测试文件：</span></span></span><br><span class="line">echo &quot;aaa&quot; &gt; file1</span><br><span class="line">echo &quot;bbb&quot; &gt; file2</span><br><span class="line">echo &quot;aaa&quot; &gt; file3</span><br><span class="line"></span><br><span class="line">grep &quot;aaa&quot; file* -lZ | xargs -0 rm</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 执行后会删除file1和file3，grep输出用-Z选项来指定以0值字节作为终结符文件名（\0），xargs -0 读取输入并用0值字节终结符分隔文件名，然后删除匹配文件，-Z通常和-l结合使用。</span></span></span><br></pre></td></tr></table></figure>
<p>grep 静默输出：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep -q &quot;test&quot; filename</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 不会输出任何信息，如果命令运行成功返回0，失败则返回非0值。一般用于条件测试。</span></span></span><br></pre></td></tr></table></figure>
<p>打印出匹配文本之前或者之后的行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 显示匹配某个结果之后的3行，使用 -A 选项：</span></span></span><br><span class="line">seq 10 | grep &quot;5&quot; -A 3</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 显示匹配某个结果之前的3行，使用 -B 选项：</span></span></span><br><span class="line">seq 10 | grep &quot;5&quot; -B 3</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 显示匹配某个结果的前三行和后三行，使用 -C 选项：</span></span></span><br><span class="line">seq 10 | grep &quot;5&quot; -C 3</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 如果匹配结果有多个，会用“--”作为各匹配结果之间的分隔符：</span></span></span><br><span class="line">echo -e &quot;a\nb\nc\na\nb\nc&quot; | grep a -A 1</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">--</span><br><span class="line">a</span><br><span class="line">b</span><br></pre></td></tr></table></figure>
<h2 id="压缩和解压缩命令">压缩和解压缩命令</h2>
<h3 id="zip-package-and-compress-files">zip(package and compress files)</h3>
<ul>
<li>r ：压缩目录</li>
<li>zip 压缩包名 源文件或目录名。 例如：zip -r test_bak.zip test</li>
</ul>
<h3 id="unzip-extract-compressed-files-in-a-ZIP-archive">unzip(extract compressed files in a ZIP archive)</h3>
<ul>
<li>d：解压到指定位置。</li>
<li>l：查看.zip 文件</li>
</ul>
<h3 id="gzip-compress-or-expand-files">gzip(compress or expand files)</h3>
<ul>
<li>用于.gz 格式的压缩或解压缩</li>
<li>c ：保留源文件。格式是：gzip -c 源文件 &gt; 目标文件。例如：gzip -c test &gt;test.gz</li>
<li>d：解压缩</li>
<li>r：压缩目录。但是不是压缩目录，而是把目录下的文件逐个打包。</li>
<li>v：显示压缩文件的信息</li>
<li>数字：压缩等级，1-9，数字越大压缩比越大，默认是 6</li>
</ul>
<h3 id="gunzip">gunzip</h3>
<ul>
<li>r：解压缩目录下的所有压缩文件</li>
<li>大多数情况下和 gzip -d 差不多。</li>
</ul>
<h3 id="zcat">zcat</h3>
<ul>
<li>不解压缩直接查看 .gz 文件</li>
</ul>
<h3 id="bzip2-a-block-sorting-file-compressor">bzip2(a block-sorting file compressor)</h3>
<ul>
<li>比较先进，相对较好。</li>
<li>不支持压缩目录。</li>
<li>d：解压缩。</li>
<li>k：压缩时保留源文件。默认压缩的同时删除源文件。</li>
<li>v：显示压缩的详细信息。</li>
<li>数字：压缩比，1-9。</li>
</ul>
<h3 id="bunzip2">bunzip2</h3>
<ul>
<li>k：解压缩时保留源文件。</li>
<li>与 bzip2 -d 相似</li>
</ul>
<h3 id="bzcat">bzcat</h3>
<ul>
<li>不解压缩直接查看 .bz2 文件</li>
</ul>
<h3 id="tar">tar</h3>
<ul>
<li>c：打包。</li>
<li>f：指定压缩的文件名</li>
<li>v：显示打包过程。</li>
</ul>
<p>一般使用时 tar -cvf test.tar test，有时打包了之后我们再用 gzip 或 bz2 压缩</p>
<p>解压缩时</p>
<ul>
<li>x：解打包</li>
<li>t：测试（test），即只查看不解打包</li>
<li>C：指定解打包的位置。</li>
</ul>
<p>一般使用 tar -xvf test.tar 解压缩</p>
<p>tar -tvf test.tar 查看压缩文件</p>
<ul>
<li>z：压缩和解压缩.tar.gz 格式</li>
<li>j：压缩和解压缩.tar.bz2 格式</li>
</ul>
<p><strong>实际使用（这才是最常用的方法）：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">## 解压缩.tar.gz格式</span><br><span class="line">tar -zxvf test.tar</span><br><span class="line">## 压缩.tar.gz格式</span><br><span class="line">tar -zcvf test.tar</span><br><span class="line">## 同理：解压缩.tar.bz2格式</span><br><span class="line">tar -jxvf test.tar</span><br><span class="line">##压缩.tar.bz2格式</span><br><span class="line">tar -jcvf test.tar</span><br></pre></td></tr></table></figure>
<h2 id="关机和重启命令">关机和重启命令</h2>
<h3 id="sync-Synchronize-cached-writes-to-persistent-storage">sync(Synchronize cached writes to persistent storage)</h3>
<p>服务器这条命令很重要，最好手动执行几次</p>
<ul>
<li>将内存中的数据同步到硬盘中</li>
</ul>
<h3 id="shutdown">shutdown</h3>
<ul>
<li>最安全的开机重启命令</li>
<li>c：取消设定的 shutdown 命令</li>
<li>h：关机</li>
<li>r：重启</li>
</ul>
<p><strong>定时关机或重启：</strong></p>
<p>方式一：指定时间。shutdown -r 05:30 指 5 点 30 重启</p>
<p>方式二：设定延迟时间。 shutdown -h +10 指十分钟后重启</p>
<p>shutdown -h now 立即关机</p>
<p>用 shutdown -c 取消</p>
<h3 id="reboot">reboot</h3>
<p>立即重启</p>
<hr>
<p><strong>下面的都不常用：</strong></p>
<h3 id="halt">halt</h3>
<h3 id="poweroff">poweroff</h3>
<p>都是立即关机命令</p>
<h3 id="init">init</h3>
<ul>
<li>数字：调用系统的级别（以后了解）</li>
</ul>
<p>例如：init 0 调用系统的 0 级别，关机</p>
<p>init 6 调用系统的 6 级别，重启。</p>
<h2 id="网络命令">网络命令</h2>
<h3 id="ifconfig-configure-a-network-interface">ifconfig(configure a network interface)</h3>
<ul>
<li>用于查看以及修改网卡的 IP 地址和子网掩码</li>
</ul>
<p>例如：inet 192.168.119.128 netmask 255.255.255.0 inet 是 ip 地址，netmask 是子网掩码。</p>
<p>那么，该设置 ifconfig eth0 192.168.119.128 netmask 255.255.255.0，其中 eth0 指的是设备的编号。</p>
<h3 id="ifup">ifup</h3>
<p>用于开启网卡 ifup eth0，指开启 eth0 网卡</p>
<h3 id="ifdown">ifdown</h3>
<p>用于关闭网卡</p>
<h3 id="ping">ping</h3>
<p>用于主机的通信情况，向网络主机发送 ICMP 请求。</p>
<p>格式 ：ping IP 地址</p>
<ul>
<li>b：后面加入广播地址，对整个网段进行探测</li>
<li>c：指定 ping 的次数</li>
<li>s：指定探测包大小</li>
</ul>
<h3 id="netstat">netstat</h3>
<ul>
<li>-a：列出所有网络状态，包括 Socket 程序</li>
<li>-c 秒数：指定每隔几秒刷新一-次网络状态<br>
-n：使用 IP 地址和端口号显示，不使用域名与服务名</li>
<li>-p：显示 PID 和程序名</li>
<li>-t：显示使用 TCP 协议端口的连接状况</li>
<li>-u：显示使用 UDP 协议端口的连接状况</li>
<li>-1 ：仅显示监听状态的连接</li>
<li>-r：显示路由表</li>
</ul>
<p>常用一下三个命令：</p>
<p>netstat -tlun</p>
<p>netstat -an</p>
<p>netstat -rn</p>
<hr>
<p><strong>以下的命令不常用：</strong></p>
<h3 id="write">write</h3>
<p>格式：write 用户名 （然后回车）输入的文本 （CTRL+ D 保存并发送）</p>
<h3 id="wall-write-to-all">wall(write to all)</h3>
<p>给所有登录用户发消息。</p>
<p>格式：wall 文本</p>
<h3 id="mail">mail</h3>
<p>格式：mail 用户名 （然后出现 subject）主题的内容 （回车）正文（CTRL+D 保存并发送）</p>
<p>单独 mail 表示查看邮件。（有些版本不支持）</p>
<h2 id="Vim-文本编辑器">Vim 文本编辑器</h2>
<p>首先要了解三种模式，可能叫法不同，但是能够识别就可以了。</p>
<h3 id="命令模式">命令模式</h3>
<ul>
<li>
<p>按上下左右查看。</p>
</li>
<li>
<p>按 ZZ 快捷退出，但是不会保存文件，不建议这么做。</p>
</li>
</ul>
<h3 id="输入模式">输入模式</h3>
<p>在命令模式下按 i,a,o 等键，就会进入输入模式（底部会出现 INSERT）。可以编辑。</p>
<p>按 ESC 退出到命令模式</p>
<h3 id="编辑模式">编辑模式</h3>
<p>在命令模式下按’:‘，即可开始进行指令操作</p>
<p>按 ESC 退出到命令模式</p>
<h3 id="打开文件操作">打开文件操作</h3>
<p><strong>一般打开文件：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim 文件名</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>进入到第 n 行：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim +n 文件名</span><br></pre></td></tr></table></figure>
<p>进入到第一次特定字符的位置：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim +/字符串 文件名</span><br></pre></td></tr></table></figure>
<h3 id="光标切换操作">光标切换操作</h3>
<p><strong>（在命令模式下进行）</strong></p>
<ul>
<li>w：移动光标到下一个单词首</li>
<li>b：移动光标到上一个单词首</li>
<li>e：移动光标到下一个单词尾</li>
<li>$：移动光标到行尾</li>
<li>n$：移动光标到第 n 行行尾</li>
<li>^或 0：移动光标到行首</li>
<li>nG：移动光标到第 n 行行首。在编辑模式直接输入数字，是同样的效果</li>
<li>f 字符：移动光标到该行指定位置</li>
<li>%：在匹配的括号切换</li>
</ul>
<h3 id="搜索命令-2">搜索命令</h3>
<p>在命令模式下，<strong>/字符串</strong>：向下查询自动跳转到对应字符位置。回车即可完成跳转，删除命令则不跳转。（按下回车后）</p>
<ul>
<li>n:向下匹配查找</li>
<li>N：向上匹配查找</li>
<li>注意：1. 可以在编辑模式下输入：set ic 忽略大小写。 输入：set noic 调回来。2. 特殊字符需要转义，例如 \$来搜索$</li>
</ul>
<p>在命令模式下，<strong>/^字符串</strong>：搜索行首出现的字符串。</p>
<p><strong>/$字符串</strong>：搜索行尾出现的字符串。</p>
<h3 id="编辑操作">编辑操作</h3>
<ul>
<li>r：在命令模式下，覆盖光标所在的字符，只能是一个</li>
<li>R：在命令模式下，覆盖光标之后的字符，直到按 ESC 才停止</li>
</ul>
<h3 id="字符串替换操作"><strong>字符串替换操作</strong></h3>
<p>在编辑模式下：起始行，结束行 s/源字符串/替换后的字符串/g</p>
<p>例如：68,72 s/sub1/sub2/g 表示 将 68-72 行出现的 sub1 全部替换成 sub2,g 表示进行不再再次询问确定，c 就是需要再次确认.</p>
<p>1,10 s/^/#/g 表示在 1-10 行的行首添加字符串#，。</p>
<h3 id="删除、粘贴、复制操作"><strong>删除、粘贴、复制操作</strong></h3>
<p>（在命令模式下）</p>
<ul>
<li>x：删除光标所在的字符</li>
<li>nx：删除光标所在以及其后的 n 个字符</li>
<li>dd：删除光标所在的一行</li>
<li>ndd：删除光标所在即后面的行，总共 n 行</li>
<li>uG：删除光标所在行及其后面的所有内容</li>
<li>D：删除光标位置到行尾的内容</li>
<li>在编辑模式下，起始行,终止行 d：删除起始行到终止行的内容。例如：84，86d 指删除第 84 到 86 行</li>
<li>yy 或 Y：复制这一行</li>
<li>nyy 或 nY：复制光标这一行及后面的行，共 n 行</li>
<li>p：把内容粘贴在这行下面</li>
<li>P：把内容粘贴在这行上面</li>
</ul>
<p><strong>另外</strong>，CTRL + SHIFT C 复制，CTRL + SHIFT D 粘贴</p>
<p>注意：<strong>上一步删除的内容可以用于粘贴</strong></p>
<p><strong>u ----（在命令模式下）撤销</strong></p>
<h3 id="保存与退出命令">保存与退出命令</h3>
<ul>
<li>w：保存不退出</li>
<li>q：不保存退出</li>
<li>!：强制执行。常常用于没有写权限时（readonly）。</li>
</ul>
<p>常用：wq：保存后退出</p>
<p>w 新文件名：保存到其他地方，这样就保留了修改前的文件。</p>
<h3 id="Vim-配置文件">Vim 配置文件</h3>
<h4 id="编辑模式下输入：set-nu">编辑模式下输入：set nu</h4>
<p>可以显示行号，同理：set nonu 取消显示行号。</p>
<p>可以在 ~/.vimrc 设置配置文件，填上自己需要的命令就足够了。</p>
<p>参数非常多，可以用 set all 查看参数。</p>
<h4 id="多窗口编辑">多窗口编辑</h4>
<p>方法一：sp/文件名。水平切分。vs 文件名，垂直切分。</p>
<p>方法二：打开文件时，直接 vim -o 第一个文件名 第二个文件名。</p>
<p>按 CTRL +ww 切换窗口。</p>
<p>输入 r 文件名，即可将一个文件的全部内容复制到这个文件。</p>
<h4 id="定义快捷键">定义快捷键</h4>
<p>格式：map 快捷键 执行的命令</p>
<p>注意设置快捷键时，CTRL +P，需要按住 CTRL +V，表示这是快捷键，然后再按 CTRL +P 进行设置。</p>
<p><Esc>表示回退</p>
<p>例如：map ^p I#<Esc>，^P 是指 CTRL+P，I#<Esc>指行首添加#，然后退出编辑模式</p>
<p>map ^E a 文本<Esc> ，a 指在当前位置加入文本。</p>
<p>输入 unmap 对应快捷键 即可取消快捷键。</p>
<h4 id="与-Shell-交互">与 Shell 交互</h4>
<p>！命令。可以在编辑模式下使用命令行</p>
<p>r ! 命令。可以把执行的结果加入文件。例如 r ! date 就是加入了时间。</p>
<h4 id="宏记录">宏记录</h4>
<p>在命令模式下，q 宏的命名</p>
<p>进入输入模式，进行更改。</p>
<p>退出到命令模式，按@宏的命名 进行操作。</p>
<h2 id="RPM-包的使用和管理">RPM 包的使用和管理</h2>
<h3 id="源代码包">源代码包</h3>
<p>源代码包指 直接是看得见源代码的安装包，需要编译成二进制文件才能够运行。具有如下特点：</p>
<p>主要包括：</p>
<ol>
<li>源代码文件。</li>
<li>配置和检测程序</li>
<li>软件安装说明。比如 README 或者 INSTALL</li>
</ol>
<p>优点：</p>
<ol>
<li>开源。意味着如果你有能力，可以自己修改、完善，选择和定制需要的功能，甚至觉得不满意自己可以二次开发。</li>
<li>因为是编译后安装，更加稳定，效率更高。</li>
<li>卸载无残留。</li>
</ol>
<p>缺点：</p>
<ol>
<li>安装步骤多，容易出错。</li>
<li>编译时间很长。</li>
<li>一旦安装出错，必须懂才能够解决，新手的噩梦。</li>
</ol>
<h3 id="二进制包">二进制包</h3>
<p>已经编译完成，但是也看不到源代码了。主要有 DPKG 包和 RPM 包。Linux 默认使用 RPM 包。</p>
<p>RPM 包的优点：</p>
<ol>
<li>简单，操作不多，只要几个命令。</li>
<li>安装速度更加快。</li>
</ol>
<p>RPM 包的缺点：</p>
<ol>
<li>看不到源代码。</li>
<li>依赖性。</li>
</ol>
<p>RPM 包的有很强大而且方便的管理系统，方便查询、升级、卸载。</p>
<h3 id="RPM-的依赖性">RPM 的依赖性</h3>
<p>某些软件包，必须要有对应的软件包，才能够正常的安装和使用功能。</p>
<p>依赖分成 <strong>软件包依赖</strong>和<strong>库依赖</strong>（属于软件包的一部分，常以 so.1 结尾，<a target="_blank" rel="noopener external nofollow noreferrer" href="http://xn--www-lp6eq51uj6q.rpmfind.net">需要在www.rpmfind.net</a> 查询所属的软件包）。</p>
<h3 id="RPM-包的命名规则">RPM 包的命名规则</h3>
<p>包的全名：httpd-2.2.15-15. el6. centos.1. i686. rpm</p>
<p>分成 7 部分：</p>
<ol>
<li>软件包名。这里是 httpd</li>
<li>软件版本。2.2.15</li>
<li>软件发布次数。15</li>
<li>软件发布商。el6</li>
<li>适用系统。centos</li>
<li>适用的硬件平台。i686</li>
<li>拓展名。rpm。注意这个是给人看的，Linux 系统本身没有拓展名的要求。</li>
</ol>
<p>注意区分包名（即上面提到的第 1 部分）和包全名。使用包名是因为已经安装，在数据库里存在。在没有安装之前，都是用包全名。</p>
<h3 id="安装路径">安装路径</h3>
<p><img src="http://cdn.blog-blockchain.xyz/202209061556525.png" alt="image-20210219224025462"></p>
<h3 id="安装命令：rpm">安装命令：rpm</h3>
<ul>
<li>i：安装（install）</li>
<li>v：显示详细信息（verbose）</li>
<li>h：用#显示安装进度（hash）。</li>
<li>–replacefiles：替换文件安装。如果部分文件已近安装，那么正常安装会因为文件已经存在而报错。使用这个选项可以直接覆盖安装。</li>
<li>–replacepkgs：重新安装包。不管是否安装过了，都重新覆盖安装。</li>
<li>–force：强制安装，可以看成–replacefiles，–replacepkgs 的综合。</li>
<li>–test：测试安装。不会实际安装，只是检测依赖性。</li>
<li>–prefix：指定安装路径，不建议用，相互调用时要手工设置其他的东西，否则系统不能识别这个包。</li>
<li>U：升级安装（update）。如果没有安装，就直接安装。如果已经安装的版本低，就升级到新版本。</li>
<li>F：升级安装（freshen）。如果没安装。就不会安装。也就是说只有较低版本的软件包已经安装了，才能够实行。</li>
</ul>
<p>一般我们都是直接使用：rpm -ivh 包全名 进行安装。</p>
<p>rpm -Uvh 包全名 也常常使用，效果差不多。</p>
<h3 id="RPM-包的查询">RPM 包的查询</h3>
<p>实际上时查询/var/lib/rpm/ 目录里的数据库文件，不能直接用 Vim 查看二进制文件（全是乱码），</p>
<p>格式：rpm - q 包名</p>
<ul>
<li>q：查询（query）</li>
<li>a：所有。<strong>rpm -qa</strong> 来查看所有的已经安装的包</li>
<li>i：查询软件详细信息（information）。<strong>rpm -qi 包名</strong></li>
<li>l：列出软件包的安装目录和文件列表（list）。<strong>rpm -ql 包名</strong></li>
<li>p：表示没有安装的软件包。<strong>rpm -alp</strong> 来查询没有安装的软件包的信息。rpm -qip 包全名 查询没有安装的某个包的信息。</li>
<li>R：软件包的依赖性。<strong>rpm -qR 包名</strong> 查询这个包的依赖信息。</li>
</ul>
<h3 id="RPM-包的卸载">RPM 包的卸载</h3>
<p>卸载时也要注意依赖性，直接卸载会造成依赖这个包的其他包不能正常使用，直接卸载会报错。</p>
<p><strong>rpm -e 包名</strong> 卸载这个包。</p>
<ul>
<li>e：卸载（erase）。</li>
<li>–nodeps：忽视依赖性。不建议这么做。</li>
</ul>
<h3 id="包的检验和数字证书">包的检验和数字证书</h3>
<p>RPM 包是否被修改过，或者出现了损坏，到底是哪个文件出问题了。这就靠包的检验了。实际上时把已安装文件和数据库内容进行比较。</p>
<h4 id="rpm-Va">rpm -Va</h4>
<p>检验所有已安装的包</p>
<ul>
<li>
<p>V：检验指定的 RPM 包文件。（verify）</p>
</li>
<li>
<p>Vf：检验是否包修改过</p>
</li>
</ul>
<h4 id="检验结果">检验结果</h4>
<p><strong>验证内容：</strong></p>
<ul>
<li>S：文件大小。（size）</li>
<li>M：文件类型或权限有没有该改变。</li>
<li>5：文件的 MD5 校验和是否改变</li>
<li>D：设备的主从代码是否改变。</li>
<li>L：文件路径是否改变。</li>
<li>U：文件的所有者是否改变。</li>
<li>G：文件的所属组是否改变</li>
<li>T：文件的修改时间是否改变</li>
</ul>
<p><strong>文件类型：**</strong></p>
<ul>
<li>c：配置文件（configuration file）</li>
<li>d：普通文档（documentation）</li>
<li>g：不该在该 RPM 中出现的文件（ghost file)</li>
<li>l：授权文件（license file）</li>
<li>r：描述文件。（read file)</li>
</ul>
<p><strong>校验结果演示：</strong></p>
<p><img src="https://gitee.com/learnerLj/typora/raw/master/img/image-20210219234133369.png" alt="image-20210219234133369"></p>
<p>第一列，没有改变的用 “.” 表示，改变了的显示对应的字母或者数字。</p>
<h4 id="数字证书（数字签名）">数字证书（数字签名）</h4>
<p>上面说的检验方法时依赖安装时自带的文件来校验，如果 RPM 包在安装之前就修改过，那么就必须使用数字证书。</p>
<p>数字证书也叫数字签名，有软件开发者直接发布。只要 RPM 包被更改了，数字证书验证就不会通过。</p>
<p><strong>数字证书的特点：</strong></p>
<ol>
<li>必须找到原厂的公钥</li>
<li>安装时会提取 RPM 包的证书信息，然后与发布的数字证书进行校验。</li>
<li>校验通过则允许安装，不通过则不允许安装，并且发出警告。</li>
</ol>
<p><strong>安装数字证书</strong>：<strong>rpm --import 数字证书名</strong></p>
<p>**查询已经安装的数字证书：**rpm -qa | grep gpg-pubkey</p>
<p><strong>数字证书本身也是 RPM 包</strong>，可以用以上的查询命令，如：rpm -qi 数字证书名。也可以用卸载：rpm -e 数字证书名</p>
<h3 id="SRPM-包的使用">SRPM 包的使用</h3>
<p>SRPM 包没有经过编译，可以查看源代码，但是包装成了 RPM 格式。</p>
<h4 id="命名规则">命名规则</h4>
<p>命名规则和 RPM 基本一致，只是 rpm 变成了 src.rpm</p>
<h4 id="用-rebuild-命令安装">用 rebuild 命令安装</h4>
<p>rpmbuild [选项] 包全名</p>
<ul>
<li>–rebuild：编译 SPRPM 包，不安装。</li>
<li>–recompile：编译 SRPM 包，同时安装。</li>
</ul>
<h4 id="安装目录">安装目录</h4>
<p>会在 /root/rpbuild/ 目录下创建以下文件夹：</p>
<p><img src="http://cdn.blog-blockchain.xyz/202209061558375.png" alt="image-20210220002012073"></p>
<h4 id="用-spec-文件安装">用*.spec 文件安装</h4>
<ol>
<li>
<p><strong>rpm -i *.src.rpm</strong></p>
<p>对于.rpm 文件是安装，但是对于*.src.rpm 文件是解开，放置到 rpmbuild 目录。</p>
<p>rpmbuild 目录下会生成放置源码的 SOURCES 和放置设置文件的 SPEC 子目录。</p>
</li>
<li>
<p>利用 SPEC 目录下的.spec 文件生成 RPM 包。<strong>rpmbuild -ba *.spec</strong></p>
<ul>
<li>ba：编译，同时生成 RPM 包和 SRPM 包</li>
<li>bb：编译，只生成 RPM 包。</li>
</ul>
</li>
</ol>
<p>这两种方法使用一种就可以了。</p>
<h2 id="源代码包的使用和管理">源代码包的使用和管理</h2>
<h3 id="源代码安装的特点">源代码安装的特点</h3>
<ul>
<li>
<p>可以与 APT 安装的包共存。</p>
</li>
<li>
<p>绝大多数源码包是用 C 写的。</p>
</li>
<li>
<p>源代码包一般从互联网下载。</p>
</li>
<li>
<p>一般是 .tar.gz 或者 .tar.bz2 的压缩格式。</p>
</li>
<li>
<p>约定俗成 /usr/src 保存内核源代码。 /usr/local/src 保存用户下载的源代码。</p>
</li>
<li>
<p>安装的位置一般规定在 /usr/local/各自的软件目录。</p>
</li>
<li>
<p>如果保存比较难解决问题，如果出现 error 或者 warning 表示部分功能不能使用，停止安装则算报错。</p>
</li>
</ul>
<h3 id="安装步骤">安装步骤</h3>
<p><strong>首先查看 README 或者 INSTALL 的安装说明</strong></p>
<ol>
<li>
<p>下载。要注意匹配的版本。</p>
</li>
<li>
<p>解压缩，移动到 /usr/local/。</p>
</li>
<li>
<p>进入解压缩后的目录，执行 configure，如果没有这个文件，哪个绿色的执行哪一个，进行软件的配置和检查。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/.configure --prefix=安装路径</span><br><span class="line"># 或（如果没有configure文件）</span><br><span class="line">/.绿色的哪个文件的名字 --prefix=安装路径</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>进入安装目录，里面有个 Makefile 文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">make</span><br><span class="line"># 如果编译报错，重新编译前要清空头文件,再编译。</span><br><span class="line">make clean</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>安装。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>有些包是可执行文件，不用安装，执行就可以了。</p>
<p>还有很重要的帮助文档</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./可执行文件名 --help</span><br></pre></td></tr></table></figure>
<h3 id="源码包的升级">源码包的升级</h3>
<p>对于不用安装的可执行文件，替换就可以了。</p>
<p>对于已近安装的源码包，只要打上补丁，重新编译和安装即可。</p>
<p><img src="https://gitee.com/learnerLj/typora/raw/master/img/20211118003406.png" alt="image-20210221111624066"></p>
<h3 id="源码包卸载">源码包卸载</h3>
<p>源码包会把所有的文件放在安装的路径下，因此，没有卸载命令，只要删除安装的目录，就可以删的干干净净。</p>
<h3 id="还有脚本安装，运行-sh-文件，一步一步安装即可">还有脚本安装，运行 .sh 文件，一步一步安装即可</h3>
<h2 id="APT-安装工具">APT 安装工具</h2>
<p>Ubuntu 安装软件时，首选这个安装方式。</p>
<h3 id="功能介绍">功能介绍</h3>
<p><strong>基本功能：</strong></p>
<ol>
<li>自动从软件源下载最新的软件包以及包含索引和摘要信息的元数据。</li>
<li>利用下载好的元数据，完成软件包的搜索和系统的更新。</li>
<li>开始安装或者卸载软件包时，自动寻找最新版本，自动解决依赖问题。</li>
</ol>
<p><strong>软件源和信息来源：</strong></p>
<p>安装和卸载的数据储存在 /var/lib/dpkg/states 文件，它记录着系统已经安装的软件。</p>
<p>查询软件信息和下载软件的软件源在 /var/lib/dpkg/states</p>
<p><strong>解决依赖关系：</strong></p>
<p>大多数情况下依赖的软件包会自动装上，建议安装的软件包会给出提示，但不会自动安装。</p>
<p>如果在软件源中不存在合适的依赖包，就会报错，需要自己解决。</p>
<h3 id="apt-cache">apt-cache</h3>
<p>常用 apt-cache 查询软件包的相关信息。用 apt-get 执行软件包安装的相关操作，常常需要使用 root 权限。</p>
<p><strong>显示所有可用软件包：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-cache pkgnames</span><br></pre></td></tr></table></figure>
<p><strong>搜索软件包并列出相关信息：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-cache search 软件包名</span><br></pre></td></tr></table></figure>
<p><strong>查看指定软件包的详细信息：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-cache show 软件包名</span><br></pre></td></tr></table></figure>
<p><strong>查看软件包的依赖信息：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-cache depends 软件报名</span><br></pre></td></tr></table></figure>
<p><strong>查看软件包被哪些包依赖：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-cache rdepends 软件包名</span><br></pre></td></tr></table></figure>
<p><strong>查看软件的安装状态和版本：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-cache policy 软件包名</span><br></pre></td></tr></table></figure>
<h3 id="apt-get">apt-get</h3>
<ul>
<li>获得最新的软件包列表，同步 source.list 和 source.lsit.d 中的源索引</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>升级所有已经安装的软件包及其依赖的软件包，为了确保获得的时是最新的信息，需要执行上一条 update 命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get upgrade</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>如果想只升级某个软件包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get --reinsatll 软件包名</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>dist-upgrade：如果安装的软件包的依赖关系发生变化，upgrade 命令就不能对它升级，就需要使用这个命令，会自动安装引入的依赖包。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get dist-upgrade</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>install：下载、安装、并自动解决依赖关系。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install 软件包名</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>remove：卸载。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get remove 软件包名</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>autoremove：自动卸载这个包，并且删除它的依赖的且不再使用的包。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get autoremove 软件包名</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>purge：卸载并且清除配置文件。下载的源文件、已经安装的源文件、卸载的源文件都备份在这里。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get purge 软件包名</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>source：下载源文件。下载目录在 /var/cache/apt/archives/</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get source 软件包名</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>clean：删除已经下载的在 /var/cache/apt/archives/ 的软件包，不影响已安装软件的使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get clean</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>选项：</strong></p>
<ul>
<li>
<p>h：查看帮助文件，超级重要！不记得了命令了，有问题了，先查看这个。</p>
</li>
<li>
<p>s：不实际安装。模拟运行命令。</p>
</li>
<li>
<p>y：不询问，一路 yes 安装下去。</p>
</li>
<li>
<p>u：更新时显示软件包的列表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get -u upgrade</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="配置-APT-的源">配置 APT 的源</h3>
<p>用来安装和更新的地址储存在 /etc/apt/sources.list 文件中。而/etc/apt/sources.list.d/ 下的.list 文件使得可以自己定义软件源，这样就能很方便的安装第三方软件。</p>
<h3 id="etc-apt-sources-list-的结构">/etc/apt/sources.list 的结构:</h3>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br></pre></td></tr></table></figure>
<p>第一个字段表示软件包的类型，Ubuntu 一般使用 deb 或者 deb-src，分别表示用.deb 文件安装和用源文件进行安装。</p>
<p>第二个字段定义 URL，便是提供软件源的 URL 地址。</p>
<p>第三个字段定义软件包的发新版本或者类型。</p>
<ul>
<li>main：Canonical 支持的开源软件。</li>
<li>universe：社区维护的开源软件。</li>
<li>restricted：由设备生产商专有的设备驱动软件。</li>
<li>multiverse：受版权或者法律保护的相关软件。</li>
<li>security：重要的安全更新</li>
<li>updates：推荐的一般更新。</li>
<li>proposed：预览版的更新。</li>
<li>backports：无支持的更新，这种更新通常还存在一些 bug。</li>
</ul>
<p>当打开 URL 地址时，进入 /pool/ 目录会出现</p>
<p>就分别把提供的软件包分成了 Canonical 支持的开源软件、有版权的软件、设备驱动软件和社区维护的开源软件。</p>
<p><strong>Synaptic 包管理工具</strong>是图形化的界面，可以比较方便的管理包。</p>
<h3 id="PPA-安装">PPA 安装</h3>
<p>一般储存在/etc/apt/sources.list.d/ 下的.list 文件</p>
<p>PPA 的语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ppa:user/ppa-name</span><br></pre></td></tr></table></figure>
<p>添加 PPA 源：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add-apt-repository ppa:user/ppa-name</span><br></pre></td></tr></table></figure>
<p>删除 PPA 源：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add-apt-repository-r ppa:user/ppa-name</span><br></pre></td></tr></table></figure>
<h2 id="Deb-软件包的使用和管理">Deb 软件包的使用和管理</h2>
<p>除了 APT 在线软件外，Ubuntu 主要使用 Deb 软件包格式。</p>
<ul>
<li>
<p>查询未安装软件包简要信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -I 包全名</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>查询已安装包的详细信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -s 包名</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>查询已安装的软件包有哪些文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -S 包名</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>安装软件包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -i 包全名</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>卸载软件包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -r 包名</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>卸载软件包并删除配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -P 包名</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>如果是 .rpm 格式，可以把他转化成 .deb 格式，再进行安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alien rpm 格式的文件名</span><br></pre></td></tr></table></figure>
<p><strong>.run 和 .bin 二进制包的安装：</strong></p>
<p>这两种包是由安装脚本和安装程序合成的，安装过程基本一样，我们以.run 为例</p>
<ol>
<li>
<p>首先要有可执行的权限。</p>
</li>
<li>
<p>运行该文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./包的名字</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>卸载包，到安装的目录里查找，里面会有 uninstall 文件，运行即可。或者安装目录里有 MaintenanceTool，运行。</p>
<h2 id="用户组管理">用户组管理</h2>
<h3 id="用户命令">用户命令</h3>
<p>添加一般用户</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">## useradd 用户名</span><br></pre></td></tr></table></figure>
<p>为添加的用户指定相应的用户组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">## useradd -g root 用户名</span><br></pre></td></tr></table></figure>
<p>创建一个系统用户</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">## useradd -r 用户名</span><br></pre></td></tr></table></figure>
<p>为新添加的用户指定 home 目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">## useradd -d 指定目录 用户名</span><br></pre></td></tr></table></figure>
<p>为新添加的用户自动设置 home 目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">## useradd -m 指定目录 用户名</span><br></pre></td></tr></table></figure>
<p>建立用户且制定 ID</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">## useradd 用户名 -u 544</span><br></pre></td></tr></table></figure>
<p>修改用户密码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd 用户名</span><br></pre></td></tr></table></figure>
<p>删除用户</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userdel 用户名</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://www.blog-blockchain.xyz">Michael(Jiahao) Luo</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://www.blog-blockchain.xyz/cs-courses/linux-basis/">https://www.blog-blockchain.xyz/cs-courses/linux-basis/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener external nofollow noreferrer" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post-share"><div class="social-share" data-image="/images/linux.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/contracts/blockchain-basis/" title="区块链基础"><img class="cover" src="https://cdn.blog-blockchain.xyz/2024/11/60e87d5df9aa578a9377306efa2025f3.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">区块链基础</div></div><div class="info-2"><div class="info-item-1">全面介绍区块链基础知识，从比特币原理出发，详细解析P2P网络、数字签名、哈希算法、挖矿机制、难度调整、最长链原则等核心概念，为理解智能合约提供坚实基础。</div></div></div></a><a class="pagination-related" href="/cs-courses/C-language-basis/" title="C语言基础"><img class="cover" src="/images/C_Programming_Language.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">C语言基础</div></div><div class="info-2"><div class="info-item-1">深入讲解C语言基础知识，包括变量存储、预编译、指针操作、结构体、文件IO、枚举类型等核心概念，以及实用的编程技巧和常用库函数。</div></div></div></a></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/images/site-avator.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Michael(Jiahao) Luo</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">88</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">19</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://x.com/jiahao_luo9"><i class="fa-brands fa-twitter"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://www.linkedin.com/in/jiahao-michael-luo-8ba5942a3" rel="external nofollow noreferrer" target="_blank" title="Linkedin"><i class="fa-brands fa-linkedin"></i></a><a class="social-icon" href="https://x.com/jiahao_luo9" rel="external nofollow noreferrer" target="_blank" title="Twitter"><i class="fa-brands fa-twitter"></i></a><a class="social-icon" href="https://github.com/learnerLj" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:luoshitou9@gmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS链接"><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">从技术到商业，从产品到设计，从生活到未来，我会在这里分享我的所思所想，欢迎关注！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%89%B9%E7%82%B9"><span class="toc-text">Linux 的基本特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E5%91%BD%E4%BB%A4"><span class="toc-text">目录命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ls-list"><span class="toc-text">ls(list)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cd-change-directory"><span class="toc-text">cd(change directory)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mkdir-make-directories"><span class="toc-text">mkdir(make directories)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rmdir-remove-empty-directories"><span class="toc-text">rmdir(remove empty directories)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tree-list-contents-of-directories-in-a-tree-like-format"><span class="toc-text">tree(list contents of directories in a tree-like format)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%91%BD%E4%BB%A4"><span class="toc-text">文件命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#cat-concatenate-files-and-print-on-the-standard-output"><span class="toc-text">cat(concatenate files and print on the standard output)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#more-file-perusal-filter-one-screen-at-a-time"><span class="toc-text">more(file perusal filter one screen at a time)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#less-file-perusal-filter-one-line-at-a-time"><span class="toc-text">less(file perusal filter one line at a time)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#head-output-the-first-part-of-files"><span class="toc-text">head(output the first part of files)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tail-output-the-last-part-of-files"><span class="toc-text">tail(output the last part of files)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ln-make-links-between-file"><span class="toc-text">ln(make links between file)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AC%E9%93%BE%E6%8E%A5"><span class="toc-text">硬链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AF%E9%93%BE%E6%8E%A5"><span class="toc-text">软链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#diff"><span class="toc-text">diff</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E5%91%BD%E4%BB%A4"><span class="toc-text">文件和目录命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#du-disk-usage"><span class="toc-text">du(disk usage)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#touch-change-file-timestamps"><span class="toc-text">touch(change file timestamps)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#stat-display-file-or-file-system-status"><span class="toc-text">stat(display file or file system status)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rm-remove-files-or-directories"><span class="toc-text">rm(remove files or directories)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cp-copy-files-and-directories"><span class="toc-text">cp(copy files and directories)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mv-move-files"><span class="toc-text">mv(move files)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-text">权限管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%E6%96%87%E4%BB%B6%E7%9A%84%E6%9D%83%E9%99%90"><span class="toc-text">了解文件的权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%9A%84%E5%85%B7%E4%BD%93%E5%90%AB%E4%B9%89"><span class="toc-text">权限的具体含义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chmod-change-file-mode-bits"><span class="toc-text">chmod(change file mode bits)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E6%9D%83%E9%99%90%E8%A1%A8%E8%BE%BE%E6%96%B9%E5%BC%8F%EF%BC%88%E9%83%BD%E6%98%AF%E5%85%AB%E8%BF%9B%E5%88%B6%E7%9A%84%E6%95%B0%EF%BC%89"><span class="toc-text">数字权限表达方式（都是八进制的数）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chown-change-file-owner-and-group"><span class="toc-text">chown(change file owner and group)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chgrp-change-group-ownership"><span class="toc-text">chgrp(change group ownership)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#umask"><span class="toc-text">umask</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4"><span class="toc-text">帮助命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#man%EF%BC%88the-system-reference-manuals%EF%BC%89"><span class="toc-text">man（the system reference manuals）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#info-read-Info-documents"><span class="toc-text">info(read Info documents)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#help"><span class="toc-text">help</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%91%BD%E4%BB%A4"><span class="toc-text">搜索命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#whereis"><span class="toc-text">whereis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#locate-fine-files-by-name"><span class="toc-text">locate(fine files by name)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#find"><span class="toc-text">find</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#grep"><span class="toc-text">grep</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B%E7%BC%A9%E5%91%BD%E4%BB%A4"><span class="toc-text">压缩和解压缩命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#zip-package-and-compress-files"><span class="toc-text">zip(package and compress files)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unzip-extract-compressed-files-in-a-ZIP-archive"><span class="toc-text">unzip(extract compressed files in a ZIP archive)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gzip-compress-or-expand-files"><span class="toc-text">gzip(compress or expand files)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gunzip"><span class="toc-text">gunzip</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zcat"><span class="toc-text">zcat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bzip2-a-block-sorting-file-compressor"><span class="toc-text">bzip2(a block-sorting file compressor)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bunzip2"><span class="toc-text">bunzip2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bzcat"><span class="toc-text">bzcat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tar"><span class="toc-text">tar</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E6%9C%BA%E5%92%8C%E9%87%8D%E5%90%AF%E5%91%BD%E4%BB%A4"><span class="toc-text">关机和重启命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sync-Synchronize-cached-writes-to-persistent-storage"><span class="toc-text">sync(Synchronize cached writes to persistent storage)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shutdown"><span class="toc-text">shutdown</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reboot"><span class="toc-text">reboot</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#halt"><span class="toc-text">halt</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#poweroff"><span class="toc-text">poweroff</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#init"><span class="toc-text">init</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%91%BD%E4%BB%A4"><span class="toc-text">网络命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ifconfig-configure-a-network-interface"><span class="toc-text">ifconfig(configure a network interface)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ifup"><span class="toc-text">ifup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ifdown"><span class="toc-text">ifdown</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ping"><span class="toc-text">ping</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#netstat"><span class="toc-text">netstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#write"><span class="toc-text">write</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wall-write-to-all"><span class="toc-text">wall(write to all)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mail"><span class="toc-text">mail</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vim-%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-text">Vim 文本编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-text">命令模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F"><span class="toc-text">输入模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F"><span class="toc-text">编辑模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">打开文件操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%89%E6%A0%87%E5%88%87%E6%8D%A2%E6%93%8D%E4%BD%9C"><span class="toc-text">光标切换操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%91%BD%E4%BB%A4-2"><span class="toc-text">搜索命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%BE%91%E6%93%8D%E4%BD%9C"><span class="toc-text">编辑操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9B%BF%E6%8D%A2%E6%93%8D%E4%BD%9C"><span class="toc-text">字符串替换操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E3%80%81%E7%B2%98%E8%B4%B4%E3%80%81%E5%A4%8D%E5%88%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">删除、粘贴、复制操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E4%B8%8E%E9%80%80%E5%87%BA%E5%91%BD%E4%BB%A4"><span class="toc-text">保存与退出命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vim-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">Vim 配置文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F%E4%B8%8B%E8%BE%93%E5%85%A5%EF%BC%9Aset-nu"><span class="toc-text">编辑模式下输入：set nu</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E7%AA%97%E5%8F%A3%E7%BC%96%E8%BE%91"><span class="toc-text">多窗口编辑</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-text">定义快捷键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E-Shell-%E4%BA%A4%E4%BA%92"><span class="toc-text">与 Shell 交互</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8F%E8%AE%B0%E5%BD%95"><span class="toc-text">宏记录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RPM-%E5%8C%85%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E7%AE%A1%E7%90%86"><span class="toc-text">RPM 包的使用和管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BA%90%E4%BB%A3%E7%A0%81%E5%8C%85"><span class="toc-text">源代码包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%8C%85"><span class="toc-text">二进制包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RPM-%E7%9A%84%E4%BE%9D%E8%B5%96%E6%80%A7"><span class="toc-text">RPM 的依赖性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RPM-%E5%8C%85%E7%9A%84%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-text">RPM 包的命名规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%B7%AF%E5%BE%84"><span class="toc-text">安装路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4%EF%BC%9Arpm"><span class="toc-text">安装命令：rpm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RPM-%E5%8C%85%E7%9A%84%E6%9F%A5%E8%AF%A2"><span class="toc-text">RPM 包的查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RPM-%E5%8C%85%E7%9A%84%E5%8D%B8%E8%BD%BD"><span class="toc-text">RPM 包的卸载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E7%9A%84%E6%A3%80%E9%AA%8C%E5%92%8C%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6"><span class="toc-text">包的检验和数字证书</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#rpm-Va"><span class="toc-text">rpm -Va</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E9%AA%8C%E7%BB%93%E6%9E%9C"><span class="toc-text">检验结果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E8%AF%81%E4%B9%A6%EF%BC%88%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%EF%BC%89"><span class="toc-text">数字证书（数字签名）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SRPM-%E5%8C%85%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">SRPM 包的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-text">命名规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8-rebuild-%E5%91%BD%E4%BB%A4%E5%AE%89%E8%A3%85"><span class="toc-text">用 rebuild 命令安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95"><span class="toc-text">安装目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8-spec-%E6%96%87%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-text">用*.spec 文件安装</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BA%90%E4%BB%A3%E7%A0%81%E5%8C%85%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E7%AE%A1%E7%90%86"><span class="toc-text">源代码包的使用和管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">源代码安装的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="toc-text">安装步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%8C%85%E7%9A%84%E5%8D%87%E7%BA%A7"><span class="toc-text">源码包的升级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%BA%90%E7%A0%81%E5%8C%85%E5%8D%B8%E8%BD%BD"><span class="toc-text">源码包卸载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%98%E6%9C%89%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85%EF%BC%8C%E8%BF%90%E8%A1%8C-sh-%E6%96%87%E4%BB%B6%EF%BC%8C%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E5%AE%89%E8%A3%85%E5%8D%B3%E5%8F%AF"><span class="toc-text">还有脚本安装，运行 .sh 文件，一步一步安装即可</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#APT-%E5%AE%89%E8%A3%85%E5%B7%A5%E5%85%B7"><span class="toc-text">APT 安装工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D"><span class="toc-text">功能介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apt-cache"><span class="toc-text">apt-cache</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apt-get"><span class="toc-text">apt-get</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-APT-%E7%9A%84%E6%BA%90"><span class="toc-text">配置 APT 的源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#etc-apt-sources-list-%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-text">&#x2F;etc&#x2F;apt&#x2F;sources.list 的结构:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PPA-%E5%AE%89%E8%A3%85"><span class="toc-text">PPA 安装</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Deb-%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%9A%84%E4%BD%BF%E7%94%A8%E5%92%8C%E7%AE%A1%E7%90%86"><span class="toc-text">Deb 软件包的使用和管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86"><span class="toc-text">用户组管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%91%BD%E4%BB%A4"><span class="toc-text">用户命令</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/defi/prediction-market-hedging-paradox/" title="预测市场对冲策略：当数学模型遇上现实的残酷"><img src="https://cdn.blog-blockchain.xyz/2025/07/184deb32c11e6b5069308216a0e79b26.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="预测市场对冲策略：当数学模型遇上现实的残酷"/></a><div class="content"><a class="title" href="/defi/prediction-market-hedging-paradox/" title="预测市场对冲策略：当数学模型遇上现实的残酷">预测市场对冲策略：当数学模型遇上现实的残酷</a><time datetime="2025-06-30T19:21:20.000Z" title="Created 2025-07-01 03:21:20">2025-07-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/dev/kafka/" title="Kafka分布式消息系统技术指南"><img src="https://cdn.blog-blockchain.xyz/2025/06/a96b1a9d3fed485c6214b10572c4d736.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka分布式消息系统技术指南"/></a><div class="content"><a class="title" href="/dev/kafka/" title="Kafka分布式消息系统技术指南">Kafka分布式消息系统技术指南</a><time datetime="2025-06-18T19:21:20.000Z" title="Created 2025-06-19 03:21:20">2025-06-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/career/making-of-consumer/" title="制造消费者"><img src="https://cdn.blog-blockchain.xyz/2025/06/51642e0693cbe2d398d9d1518bf06360.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="制造消费者"/></a><div class="content"><a class="title" href="/career/making-of-consumer/" title="制造消费者">制造消费者</a><time datetime="2025-06-14T18:11:20.000Z" title="Created 2025-06-15 02:11:20">2025-06-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/career/ai-chat-philosophy/" title="一个初代AI聊天机器人的故事。人性的弱点碰上了人工智能的哲学。"><img src="https://cdn.blog-blockchain.xyz/2025/06/b4a3b8645810b021a67ae726b9734632.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一个初代AI聊天机器人的故事。人性的弱点碰上了人工智能的哲学。"/></a><div class="content"><a class="title" href="/career/ai-chat-philosophy/" title="一个初代AI聊天机器人的故事。人性的弱点碰上了人工智能的哲学。">一个初代AI聊天机器人的故事。人性的弱点碰上了人工智能的哲学。</a><time datetime="2025-06-06T10:44:20.000Z" title="Created 2025-06-06 18:44:20">2025-06-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/solana/solana-basic/" title="Solana 合约开发基础"><img src="https://cdn.blog-blockchain.xyz/2025/05/a8ff2c0938675dd107393164903785c8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Solana 合约开发基础"/></a><div class="content"><a class="title" href="/solana/solana-basic/" title="Solana 合约开发基础">Solana 合约开发基础</a><time datetime="2025-05-18T14:58:33.000Z" title="Created 2025-05-18 22:58:33">2025-05-18</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Michael(Jiahao) Luo</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.3.5"></script><script src="/js/main.js?v=5.3.5"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.36/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css')
    if (false) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  const initGitalk = (el, path) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyGitalk = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const gitalk = new Gitalk({
      clientID: '467d9506710fff22dc33',
      clientSecret: '2a3e530b895af9c94d4bbe95fe78c69317f4d76e',
      repo: 'blog-gitalk',
      owner: 'learnerLj',
      admin: ['learnerLj'],
      updateCountCallback: commentCount,
      ...option,
      id: isShuoshuo ? path : (option && option.id) || '44281a05be3e75e5426a9c62d7f307ad'
    })

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async(el, path) => {
    if (typeof Gitalk === 'function') initGitalk(el, path)
    else {
      await btf.getCSS('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.css')
      await btf.getScript('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js')
      initGitalk(el, path)
    }
  }

  if (isShuoshuo) {
    'Gitalk' === 'Gitalk'
      ? window.shuoshuoComment = { loadComment: loadGitalk }
      : window.loadOtherComment = loadGitalk
    return
  }

  if ('Gitalk' === 'Gitalk' || !false) {
    if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.4/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.3.5"></script></div></div></body></html>